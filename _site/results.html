<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.23">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="片岡　亮太">

<title>目標の期中調整 実験 – Experiment of target adjustment</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-1fe81d0376b2c50856e68e651e390326.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ff63373b1067ca6f91cf1456aa1f00a2.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Experiment of target adjustment</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./plan.html"> 
<span class="menu-text">実験計画</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./pilot.html"> 
<span class="menu-text">パイロットテスト結果</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./results.html" aria-current="page"> 
<span class="menu-text">実験結果</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#実験計画の概要" id="toc-実験計画の概要" class="nav-link active" data-scroll-target="#実験計画の概要"><span class="header-section-number">1</span> 実験計画の概要</a>
  <ul>
  <li><a href="#前回の実験結果" id="toc-前回の実験結果" class="nav-link" data-scroll-target="#前回の実験結果"><span class="header-section-number">1.1</span> 前回の実験結果</a></li>
  <li><a href="#前回の問題点" id="toc-前回の問題点" class="nav-link" data-scroll-target="#前回の問題点"><span class="header-section-number">1.2</span> 前回の問題点</a></li>
  <li><a href="#改善点" id="toc-改善点" class="nav-link" data-scroll-target="#改善点"><span class="header-section-number">1.3</span> 改善点</a></li>
  <li><a href="#早川先生20250611" id="toc-早川先生20250611" class="nav-link" data-scroll-target="#早川先生20250611"><span class="header-section-number">1.4</span> 早川先生（20250611）</a></li>
  </ul></li>
  <li><a href="#仮説" id="toc-仮説" class="nav-link" data-scroll-target="#仮説"><span class="header-section-number">2</span> 仮説</a>
  <ul>
  <li><a href="#目標の期中調整の期待と実施の効果" id="toc-目標の期中調整の期待と実施の効果" class="nav-link" data-scroll-target="#目標の期中調整の期待と実施の効果"><span class="header-section-number">2.1</span> 目標の期中調整の期待と実施の効果</a></li>
  <li><a href="#目標の期中調整と公正の関係" id="toc-目標の期中調整と公正の関係" class="nav-link" data-scroll-target="#目標の期中調整と公正の関係"><span class="header-section-number">2.2</span> 目標の期中調整と公正の関係</a></li>
  <li><a href="#条件別の難易度の予想" id="toc-条件別の難易度の予想" class="nav-link" data-scroll-target="#条件別の難易度の予想"><span class="header-section-number">2.3</span> 条件別の難易度の予想</a></li>
  <li><a href="#条件別の業績の予想" id="toc-条件別の業績の予想" class="nav-link" data-scroll-target="#条件別の業績の予想"><span class="header-section-number">2.4</span> 条件別の業績の予想</a></li>
  <li><a href="#条件別の予測" id="toc-条件別の予測" class="nav-link" data-scroll-target="#条件別の予測"><span class="header-section-number">2.5</span> 条件別の予測</a></li>
  </ul></li>
  <li><a href="#リサーチデザイン" id="toc-リサーチデザイン" class="nav-link" data-scroll-target="#リサーチデザイン"><span class="header-section-number">3</span> リサーチ・デザイン</a>
  <ul>
  <li><a href="#実験の概要" id="toc-実験の概要" class="nav-link" data-scroll-target="#実験の概要"><span class="header-section-number">3.1</span> 実験の概要</a></li>
  <li><a href="#実験参加者" id="toc-実験参加者" class="nav-link" data-scroll-target="#実験参加者"><span class="header-section-number">3.2</span> 実験参加者</a></li>
  <li><a href="#実験手順" id="toc-実験手順" class="nav-link" data-scroll-target="#実験手順"><span class="header-section-number">3.3</span> 実験手順</a>
  <ul>
  <li><a href="#報酬" id="toc-報酬" class="nav-link" data-scroll-target="#報酬"><span class="header-section-number">3.3.1</span> 報酬</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#変数" id="toc-変数" class="nav-link" data-scroll-target="#変数"><span class="header-section-number">4</span> 変数</a>
  <ul>
  <li><a href="#説明変数" id="toc-説明変数" class="nav-link" data-scroll-target="#説明変数"><span class="header-section-number">4.1</span> 説明変数</a></li>
  <li><a href="#被説明変数" id="toc-被説明変数" class="nav-link" data-scroll-target="#被説明変数"><span class="header-section-number">4.2</span> 被説明変数</a></li>
  <li><a href="#公正の認識" id="toc-公正の認識" class="nav-link" data-scroll-target="#公正の認識"><span class="header-section-number">4.3</span> 公正の認識</a></li>
  </ul></li>
  <li><a href="#結果" id="toc-結果" class="nav-link" data-scroll-target="#結果"><span class="header-section-number">5</span> 結果</a>
  <ul>
  <li><a href="#記述統計量" id="toc-記述統計量" class="nav-link" data-scroll-target="#記述統計量"><span class="header-section-number">5.1</span> 記述統計量</a></li>
  <li><a href="#マニピュレーション-チェック" id="toc-マニピュレーション-チェック" class="nav-link" data-scroll-target="#マニピュレーション-チェック"><span class="header-section-number">5.2</span> マニピュレーション-チェック</a></li>
  <li><a href="#仮説検定" id="toc-仮説検定" class="nav-link" data-scroll-target="#仮説検定"><span class="header-section-number">5.3</span> 仮説検定</a>
  <ul>
  <li><a href="#補足分析" id="toc-補足分析" class="nav-link" data-scroll-target="#補足分析"><span class="header-section-number">5.3.1</span> 補足分析</a></li>
  </ul></li>
  <li><a href="#パイロットテストの確認事項" id="toc-パイロットテストの確認事項" class="nav-link" data-scroll-target="#パイロットテストの確認事項"><span class="header-section-number">5.4</span> パイロットテストの確認事項</a></li>
  <li><a href="#マニピュレーションチェック" id="toc-マニピュレーションチェック" class="nav-link" data-scroll-target="#マニピュレーションチェック"><span class="header-section-number">5.5</span> マニピュレーション・チェック</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">目標の期中調整 実験</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>片岡　亮太 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2025/09/05, 13:54</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="実験計画の概要" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="実験計画の概要"><span class="header-section-number">1</span> 実験計画の概要</h2>
<section id="前回の実験結果" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="前回の実験結果"><span class="header-section-number">1.1</span> 前回の実験結果</h3>
<ul>
<li>仮説1：期待効果で予想されたマイナスの効果は有意な結果ではなかった。</li>
<li>仮説2：実施効果で予想されたプラスの効果ではなくマイナスの効果が一部出た。</li>
</ul>
</section>
<section id="前回の問題点" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="前回の問題点"><span class="header-section-number">1.2</span> 前回の問題点</h3>
<p>共通の原因 - 固定報酬に対して変動分が小さいので業績を高めるインセンティブが小さかった。 - 全員に一定の目標値を設定していたため，目標の難易度が被験者間で異なる（同じ目標でも被験者の能力によって簡単すぎる人と目標が難しすぎる人がいた）。 仮説1の結果が出なかった原因 -期中調整の告知の内容が抽象的だったため，参加者は期中調整が行われることを十分に信じておらず努力を控えなかった。 仮説2の結果が出なかった（一部逆の結果になった）原因 -期中調整の実施によって実際に目標が下がったことで気が緩まり，本来実施効果で予想していたプラスの効果ではなく，マイナスの効果が生じる可能性がある。</p>
</section>
<section id="改善点" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="改善点"><span class="header-section-number">1.3</span> 改善点</h3>
<ul>
<li>仮説の精緻化 -告知効果は管理不能要因の有無で変化する。</li>
<li>前回の実験では，業績と公正の間に正の相関が見られた。先行研究で扱われている公正も仮説に入れる。</li>
<li>参加者ごとの個別目標を設定</li>
<li>実験開始前に練習パートを実施し，各参加者の能力を計測。</li>
<li>この練習パートに基づいて，参加者個別の目標値を設定する（このことは参加者には伝えない）。</li>
<li>練習パートの正解数に連動報酬を与える。</li>
<li>報酬設計の改善</li>
<li>実験参加者への変動報酬部分で大きく報酬を与える。</li>
<li></li>
<li>報酬の上限は前回同様に設定しない。これは，前半期間に上限近くの業績を達成してしまうと後半に努力を控える可能性はあるため。また，目標値以外に参照点を与えると実験が複雑になるため。 -厳しい期間の得点は大きく下がるように調整する。</li>
<li>期中調整の情報の伝え方を改善する。調整する確率（50％）を具体的に参加者に伝える。</li>
</ul>
</section>
<section id="早川先生20250611" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="早川先生20250611"><span class="header-section-number">1.4</span> 早川先生（20250611）</h3>
<ul>
<li>平常ラウンドと厳しいラウンドが参加者にわかりにくいのではないか。</li>
<li>期中調整の文言が曖昧ではないか。50％という確率の数字を入れるか，具体的な調整の程度を入れるか -「適切な難易度まで下方調整する」入れる</li>
<li>平常ラウンドと厳しいラウンドが問題の比率1：3と3：1ではあまり難易度の差が生まれないのではないか。 -パイロットテストで確認する。</li>
<li>1ラウンド2分（前後半1分）は短くないか。1分で環境を判断できるか。 -前後半2分合計4分間に戻す。</li>
<li>デコーディングタスク1ケタは短すぎないか。一定の桁数があって初めて認知的負荷がかかるのではないか。元論文やタスクに関する論文を確認した方が良い。 -Choi et al.&nbsp;(2018) を確認して，3桁で行う。ただし，Choi et al.&nbsp;(2018) は数字3桁→アルファベット1文字のデコーディングタスクを行っている 。これでは，難易度の変更がしにくい。</li>
<li>練習ラウンドの業績で報酬を与える，告知あり-実施なし条件は研究倫理に触れないか</li>
<li>仮説3a→告知ありとなしで公正の認識は変わるか。</li>
<li>目標難易度が適切なのか（練習ラウンドの業績の100％）はパイロットテストで確認した方が良い。 -パイロットテストで確認する。</li>
</ul>
<p>佐久間先生（20250612） -練習ラウンドと本番ラウンドで報酬契約の形態を変えることに問題があるのではないか。練習ラウンドと本番ラウンドで努力の仕方が変わる可能性。 -練習ラウンドのスコアを目標値に使うことを参加者に示さないことの倫理的問題がありそう。 -タスクの難易度ではなく，最初に設定する目標の難易度を変化させてはどうか。そちらのほうが実験の設定を単純にできるし，受注量などの設定では現実にもありえそう。目標の難易度を変えれば，1人1人の目標難易度が適切かどうかの問題をある程度クリアできそう。ただし，環境変化という現在の設定が変わってしまうこととどのくらい期中調整するのかという問題が難しくなる。</p>
</section>
</section>
<section id="仮説" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="仮説"><span class="header-section-number">2</span> 仮説</h2>
<section id="目標の期中調整の期待と実施の効果" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="目標の期中調整の期待と実施の効果"><span class="header-section-number">2.1</span> 目標の期中調整の期待と実施の効果</h3>
<p>会計学や心理学の多くの研究は，困難だが達成可能な目標が業績に正の効果をもたらすことを示唆している(Locke and Latham 1990, Locke and Latham 2002, Bonner and Sprinkle, 2002, Hirst and Lowy 1990）。目標は，注意を相関する活動に向けさせ，より大きな努力と持続的な努力を誘発し，タスクに相関する知識の使用につながる（Locke and Latham 1990, Locke and Latham 2002）。 しかし，目標を期首に設定した後に，予測できなかった管理不能要因（経済的要因，競合の行動など）が発生することがあり，目標の難易度が達成不可能な水準まで上がる可能性がある（Gibbs et al.&nbsp;2004）。このとき，標達成と報酬を結びつけているならば，従業員の努力を減退させる可能性がある。したがって，事後的に管理不能要因を考慮し，事前の目標難易度を回復する調整を行うことで，目標の難易度を改善することができる（Hoppe and Moers 2011; Murphy and Oyer 2003）。これを目標の期中調整(intra-year target adjustments)という(Arnold and Artz 2015)。 期中調整が従業員の努力に対して与える効果は，正と負の予測の両方が存在する。正の効果の予測は，前述したとおり，経済状況の変化に応じて年度内に目標が調整されれば，財務的なインセンティブが再調整されることになるということである(Milgrom and Roberts 1992）。事後的に管理不能要因を考慮し，事前の目標難易度まで回復する調整を行うことで，インセンティブ契約を改善することができる（Hoppe and Moers 2011, Murphy and Oyer 2003）。 一方，負の効果の予測は，従業員が期待する期中調整の可能性が高まると，期首に設定された目標へのコミットメントが弱くなるということである()。目標の期中調整は，経済学的に事後的な再交渉を意味する(Milgrom and Roberts 1992)。 また，実証研究の結果も分かれている。事後的な目標の調整は手続き的公正を高めることを通じて従業員の努力を高めることが示している(Kelly et al.&nbsp;2015)。一方，企業レベルのアーカイバル研究では，期中に予算目標を調整する度合いが，企業業績と負の相関があることがわかっている (Arnold and Artz 2015)。 これらの対立的な理論的予測は期中調整の効果をひとまとめとして扱っている。また，これまでの実証研究では実際に期中に目標を調整する前と後に分けて業績を測定していない。このことにより，目標の期中調整が業績に与える効果を十分に理解できていないという問題がある。 そこで本研究では，目標の期中調整が個人の努力に対して与える影響を目標の調整前の期待による効果と実際に調整した後の実施による効果の2つに分けて考える。 まず，目標の調整前の期待による効果について考える。通常は，期中調整の期待をもつ従業員は，期中調整の期待もたない従業員と比較して負の効果をもつと考えられる。従業員が期待する目標の期中調整の可能性が高まると，期首に設定された目標へのコミットメントが弱くなる。目標の期中調整の前に従業員が目標の期中調整について何らかの情報を持っている場合，期中に目標が下方に調整されるだろうという期待が生じる。したがって，期首から目標が実際に調整されるまでの時点の間，従業員が知覚する目標の難易度は低下する（仮説1a）。管理不能要因が発生せず期首の目標の難易度が最適な場合は，従業員の認識する目標の難易度が低下する。この場合，目標の難易度は容易な水準に下がってしまう。その結果，従業員は努力を引き下げる。したがって，目標の期中調整の事前の期待は，管理不能要因が発生する場合は努力を引き上げ，管理不能要因が発生しない場合は期間の前半の努力を引き下げると予測できる。一方，管理不能要因が発生し期首の目標の難易度が高すぎる場合は，従業員が認識する目標の難易度が低下することにより目標の難易度は達成可能な範囲で困難な最適な水準である。その結果，従業員は努力を引き上げる。したがって，管理不能要因が発生する場合は，目標の期中調整の事前の期待は，期間前半の努力を引き上げると予測できる（仮説1b）。</p>
<ul>
<li>仮説1a： 管理不能要因のない期間に，目標の期中調整の期待がある場合，期待がない場合と比較して，期間の前半の業績は低い。</li>
<li>仮説1b： 管理不能要因のある期間に，目標の期中調整の期待がある場合，期待がない場合と比較して，期間の前半の業績は高い。</li>
</ul>
<p>次に，実際に目標が調整された後の場合の効果を考える。管理不能要因の発生によって，目標の難易度が高すぎて達成不可能であるとき，従業員の努力水準は低くなる。そこから目標が最適な目標水準に実際に調整されると，従業員が認識する目標の難易度は最適な水準に回復し，従業員の努力を引き上げる。したがって，管理不能要因が発生する場合の目標の期中調整の実施は，後半の努力を引き上げると予測できる（仮説2）。</p>
<ul>
<li>仮説2： 管理不能要因のある期間に目標の期中調整を実施する場合，実施しない場合と比較して，期間の後半の業績が高い。</li>
</ul>
</section>
<section id="目標の期中調整と公正の関係" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="目標の期中調整と公正の関係"><span class="header-section-number">2.2</span> 目標の期中調整と公正の関係</h3>
<p>評価手続きと関連する結果の公平さ(fairness)に対する従業員の認識は，業績評価と報酬制度に対する従業員の反応に影響する重要な要素である(Latham et al.&nbsp;2005)。組織的公正(organization justice)は，分配的公正(distributive justice)と手続き的公正（procedural justice）および相互作用的公正(interactional justice)の認識から構成される（(Leventhal 1980, Beugré and Baron 2001, Greenberg 1986）。手続き的公正は，業績が評価され，報酬が与えられるプロセスの公正の認識に関係し，分配的公正は，貢献した仕事（努力，品質など）に対する評価や受け取った報酬などの結果の公正の認識に関係する（Colquitt et al.&nbsp;2006）。相互作用的公正(interactional justice)は，上司と部下の間の相互関係に関係する(Beugré and Baron 2001)。 期中調整に関する先行研究の1つであるKelly et al.&nbsp;(2015)は，その中でも手続き的公正の認識に焦点を当てている。業績結果に影響を与えうる管理不能要因がある場合に，業績評価と報酬に用いられるプロセスに関係するからである。また，先行研究は，従業員の手続き的公正の認知が，分配的公正の認知ではなく，雇用主の全体的な公正に対する従業員の認識を決定し，それが雇用主に対する従業員の態度や行動に影響を与えることを示している（Beugré and Baron 2001）。Kelly et al.&nbsp;(2015)は，目標の事後的な調整が手続き的公正を高め，結果として業績を高めることを実証した。本研究も期中調整と手続き的公正の関係に焦点を当てる。 社会的交換理論によれば，従業員と雇用主の関係は，各当事者が他者からの公正な利益と引き換えに満たす義務によって特徴付けられる（Blau 1964）。目標達成に対してボーナスが与えられる報酬制度では，雇用主は従業員の目標達成に報酬を支払う義務を負い，従業員は目標達成のために合理的な努力をする義務を負っている。しかし，業績に悪影響を及ぼす管理不能要因があると，事前に設定された目標の達成とそれに伴う報酬を受け取る可能性はかなり低くなる（Gibbs et al.&nbsp;2008）。 したがって，期中調整は手続き的公正の知覚に正の効果をもたらすと予想される。期中調整は管理不能要因の影響を除去するために使用され，期中調整を行うことで期中調整を行わない場合に比べて目標達成率が高くなると仮定すれば，従業員は評価プロセスの公正性についてより好ましい認識を持つ可能性が高い。従業員は期中調整を経験する前に，期中調整の期待によって，将来，管理不能要因が起こったときに，その調整の有益な効果を予測し，手続き的公正の認識を形成することができる。さらに，これらの手続き的公正の認識は，従業員が実際に管理不能要因と期中調整の実施を経験したときに，さらに影響を受ける可能性が高い。したがって，仮説3aと3bは，従業員が期中調整を経験する前に手続き的公正の認識が形成されるという期待によるものと，さらに期中調整の実施によるもので形成される。一方，期中調整の期待と実施の不一致は，多期間において手続き的公正の認識に負の効果をもたらすと予想される。手続き的公正では，報酬分配に関連する手続きの一貫性が重視される(Beugré and Baron 2001)。期中調整の期待がある状態で期中調整の実施が行われないのは報酬分配に関連する手続きの一貫性を欠いている。したがって，手続き的公正の認識を低くすると予想される（仮説3b）。 また，公正は業績に影響を与えると考えられる。先行研究は，業績評価プロセスがより公正である（すなわち手続き的公正が高い）と認識する従業員は，自分の評価に満足し，自分の業績を向上させようとするモチベーションが高く，組織に留まる意思が強いことを示している（Libby 2001, Dailey and Kirk 1992, Taylor et al.&nbsp;1995)。したがって，期中調整の効果は，手続き的公正の認識によって媒介して業績を高めると予想される。 管理不能要因がある期間だけでなく，管理不能要因がない期間にも期中調整が影響すると予想する理論的根拠は公正ヒューリスティック理論から導かれる。公正ヒューリスティック理論によると，人々は，プロセスの公平さに対する最初の評価を，プロセスを担当する組織の手続き的公正を総合的に評価するためのヒューリスティックとして使用し，それが組織に対する彼らの態度や行動を決定する(Beugré and Baron 2001, Lind et al.&nbsp;1993) という。さらに，人と組織の相互作用の初期に得られるプロセス情報は，その後の情報よりも組織の全体的な公正の評価に影響を与える（Van den Bos et al.&nbsp;1997, Lind and Tyler 1988, 228）。もし人々が，雇用主との相互作用の初期に形成された事後的な目標調整に関連する手続き的公正の認識を，より一般的に雇用主に帰属させるとすれば，この効果は管理不能要因がない期間にも存在する可能性がある。したがって仮説4は管理不能要因の有無に関連していない。</p>
<ul>
<li>仮説3a： 目標の期中調整の期待があり，管理不能要因がある期間に目標の期中調整を実施する場合，目標の期中調整の期待がなく管理不能要因がある期間に目標の期中調整を実施する場合と比較して手続き的公正の認識が高い。</li>
<li>仮説3b： 目標の期中調整の期待がなく，管理不能要因がある期間に目標の期中調整を実施する場合，目標の期中調整の期待がなく管理不能要因がある期間に目標の期中調整を実施しない場合と比較して手続き的公正の認識が高い。</li>
<li>仮説3c： 目標の期中調整の期待があり，管理不能要因がある期間に目標の期中調整を実施しない場合，目標の期中調整の期待がなく管理不能要因がある期間に目標の期中調整を実施しない場合と比較して手続き的公正の認識が低い。</li>
<li>仮説4： 目標の期中調整の期待と実施の組み合わせは，従業員の手続き的公正性の認識を媒介して，全期間の業績を高める。</li>
</ul>
</section>
<section id="条件別の難易度の予想" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="条件別の難易度の予想"><span class="header-section-number">2.3</span> 条件別の難易度の予想</h3>
</section>
<section id="条件別の業績の予想" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="条件別の業績の予想"><span class="header-section-number">2.4</span> 条件別の業績の予想</h3>
</section>
<section id="条件別の予測" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="条件別の予測"><span class="header-section-number">2.5</span> 条件別の予測</h3>
<p>平常ラウンド 期中調整 業績 手続き的 公正 全体の 業績 告知 実施 前半 後半<br>
あり あり／なし 低 ？ 高 中 なし あり／なし 高 ？ 低 高</p>
<p>厳しいラウンド 期中調整 業績 手続き的 公正 全体の 業績 告知 実施 前半 後半<br>
あり あり 高 高 中 中 なし 高 低 低 低 なし あり 低 高 高 高 なし 低 低 中 中</p>
</section>
</section>
<section id="リサーチデザイン" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="リサーチデザイン"><span class="header-section-number">3</span> リサーチ・デザイン</h2>
<section id="実験の概要" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="実験の概要"><span class="header-section-number">3.1</span> 実験の概要</h3>
<p>本研究は，オンライン実験によって仮説を検証する。なお，実験はPythonをベースとした実験用フレームワークであるoTree (Chen et al.&nbsp;2016)を使用する。実験は，期中調整の告知（あり／なし）と期中調整の実施（あり／なし）の2×2参加者間要因で構成される。実験参加者はそれぞれの条件に無作為に割り当てられる。目標の期中調整の「告知あり」の条件は，参加者に「あなたは50％の確率で目標を下方調整される可能性がある」と説明される。目標の期中調整の「実施あり」の条件は，厳しい環境のラウンドの前半と後半の中間に目標が下方調整される。</p>
</section>
<section id="実験参加者" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="実験参加者"><span class="header-section-number">3.2</span> 実験参加者</h3>
<p>1条件50人×4条件で，合計200人の実験参加者を集める。実験の参加者の募集および報酬の支払いは，研究用のクラウドソーシング・プラットフォームであるProlificを使用する。実験の使用言語が英語であるため，対象者は米国および英国居住者に限定する。 実験のタスクと手順 実験で行うタスクは，リアル・エフォート・タスクの一種であるデコーディング・タスク(Chow 1983)である。デコーディング・タスクとは，数字とアルファベットの組み合わせ表に基づいて，数字をアルファベットに変換するタスクである。参加者は，数字とアルファベットの対応表を用いて，数字をアルファベットに変換する。不正解の場合は次の問題に進み，スコアにはカウントされない。また，画面にはそのラウンドの現時点の正解数と残り時間が表示される。 デコーディング・タスクによって参加者のパフォーマンスを測定する理由は，先行研究で行われているため比較が容易であるからであるからである。また，参加者の努力に敏感で，容易に学習でき，参加者が自分の能力を正確に測定することができる。 デコーディング・タスクの種類は，数字のケタが3ケタの問題と6ケタの問題があり，後者の方が解答により多くの時間を必要とする。参加者に対してこのラウンドが平常ラウンドであるか厳しいラウンドであるかはタスク中の画面に明示されない。平常ラウンドが3ケタ、厳しいラウンドが6ケタである。したがって，平常ラウンドと比較して厳しいラウンドは，目標を達成するのが難しくなることで，管理不能要因のある環境を再現している。したがって管理不能要因がある厳しいラウンドでは目標の期中調整が必要であるが，管理不能要因がない平常ラウンドでは必要ない。</p>
<p>【実験画面のイメージ】</p>
</section>
<section id="実験手順" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="実験手順"><span class="header-section-number">3.3</span> 実験手順</h3>
<ol type="1">
<li>参加者が実験への参加を承諾する。</li>
<li>実験のタスクについて説明する。</li>
<li>報酬条件について説明する。</li>
<li>「告知あり」条件の群に対して，期中調整について説明をする。</li>
<li>理解度確認テストを実施する。</li>
<li>練習パート（2分×3回）を実施する。</li>
<li>本番パートを実施する（1〜6の繰り返し4回） <br> 7.1. 目標を設定する <br> 7.2. ラウンド前半のタスクを行う（2分）<br> 7.3. 目標の難易度に関する質問を行う<br> 7.4. 期中調整する群に期中調整を行う<br> 7.5. 目標の難易度に関する質問を行う<br> 7.6. ラウンド後半のタスクを行う（2分）</li>
<li>参加者の背景と公正性に関する事後質問を行う。</li>
<li>練習パートと本番パートの業績に基づいて報酬額を確定させる。</li>
</ol>
<p>【実験のラウンドと環境の対応表】 練習パート 順序1 順序2 1 平常 平常 2 平常 平常 3 厳しい 厳しい 本番パート 順序1 順序2 1 平常 厳しい 2 厳しい 平常 3 平常 厳しい 4 厳しい 平常</p>
<p>実験は，上記の手順で進める。まず，実験参加の同意を得て，実験のタスクについて説明した後，目標の期中調整の告知ありの群には，目標の期中調整について説明する。目標の期中調整の告知なしの群には，期中調整の説明はしないが，厳しいラウンドがあることは説明する。 理解度チェックでは，参加者が実験のタスクや報酬についての問題すべてに正解するまで次の画面に進めないようにする。さらに，目標の期中調整の告知ありの群の参加者に対しては，期中調整の操作を理解しているかどうかを確認するための問題も含まれる。 理解度チェックの後，練習パートを行う。練習パートは，平常環境の2分間2回と厳しい環境のラウンド2分間1回を順番に行う。/ その後，本番パートを実施する。本番パートの期首目標は，練習パートの2回目の平常ラウンドの正解数を2倍したものである（時間が2倍であるため）。これにより，参加者の能力に応じた目標設定ができる。なお，目標値が練習パートの実績に応じて決定されることは参加者には知らされない。目標の決定方法がわかっていれば，練習パートで努力を控える可能性があるためである。参加者は前半と後半1分間ずつの1回3分間のラウンドを8回行う。2回の平常環境のラウンド，2回の厳しい環境のラウンドで構成される。次のラウンドが平常環境であるか厳しい環境であるかは参加者に明示されない。また，厳しいピリオドと平常ピリオドの順序が参加者の行動に影響を与えるかどうかを評価するため，2パターンの順序を使用する。 前半と後半の間の中間フィードバックでは，前半の正解数とそのラウンドの目標値が表示される。そして，期中調整の実施ありの条件では，期中調整後の目標が表示される。調整後の目標は，第2パートの時間が練習ラウンドの2倍であるため，練習パートの厳しいラウンドの正解数を2倍したものである。なお，目標の調整に関する参加者間の操作とラウンドの種類に関する参加者内の操作の効果を評価するため，各ラウンドの前半終了後と後半開始前に，参加者に割り当てられた目標の難易度を7段階で評価させる。 その後，参加者は，公正に関する認識，背景（年齢，性別，勤務年数）について質問に答える。これらの質問を終えると，参加者が獲得した金額を示すメッセージが表示される。参加者の報酬は，実験終了後にProlificを通じて各参加者に支払われる。</p>
<section id="報酬" class="level4" data-number="3.3.1">
<h4 data-number="3.3.1" class="anchored" data-anchor-id="報酬"><span class="header-section-number">3.3.1</span> 報酬</h4>
<p>練習パートでは1問正解するごとに£0.02の報酬が与えられる。本番パートの開始前に，参加者にそれぞれ目標値が提示される。目標値は練習パートにおける正解数に基づいて，参加者それぞれに目標値を設定する。参加者はラウンドごとに，目標の達成によってボーナスが£1.0与えられる。目標値を超える正解数には，1問あたり£0.1の割合で業績連動ボーナスが与えられる。ただし目標値を達成できなければそのラウンドの報酬は与えられない。例えば，目標が20問で実績が25問だった場合，目標達成ボーナスが1.0 £，業績連動ボーナスが£0.1×5問＝£0.5で合計£1.5である。 この報酬契約の設計は，標準的なインセンティブ契約を反映している。標準的なインセンティブ契約では，業績が目標レベルに達すればボーナスが支給され，業績が目標を上回れば，ボーナスは通常増額され，時には上限が設定されることもある (Jensen 2003, Murphy 2001)。ただし，報酬に上限を設定すると，参加者の業績が上限値に達したり近づいたりした場合，それ以上業績を高める努力を控える可能性が高い。今回の研究では目標の期中調整の効果を検証することが目的であり，目標の上限値が与える効果が目標の期中調整の効果と交絡することを防ぐため，今回は上限値を設定しない。 なお，報酬の総額がProlificによって規定されている最低時給（1時間あたり6£）に満たない場合は自動的に実験参加時間に見合った最低額が支給される 。</p>
<p>第1パート：1問正解ごとに£0.02 第2パート：目標達成により£0.6，目標を超過した正解数に対し1問あたり£0.02の追加ボーナスを支払う。 全参加者の完了時間の中央値から，prolificにおける最低時給（£6.0/h）を下回る場合は、自動的に上方修正される。実験の想定所要時間は30分（うち実験タスクの時間は19分）である。</p>
<p>予算 全員が練習パートで計30点を獲得し，本番パートで全ラウンドで目標を5点超過した場合 200人×（£0.6＋£0.6＋(0.02×5)×8）＝ 200人×£6.2 ＝ £1,240 クラウドソーシングサービス利用料（総報酬額の25%） £1,240×25％ ＝ £310 計　£1,550（£1＝200 円の場合，315,000円) サーバー利用料 5,000円 合計費用 320,000円</p>
</section>
</section>
</section>
<section id="変数" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="変数"><span class="header-section-number">4</span> 変数</h2>
<section id="説明変数" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="説明変数"><span class="header-section-number">4.1</span> 説明変数</h3>
<p>この研究の説明変数は，目標の期中調整の告知と実施である。第1の説明変数は，目標期中調整の告知である。「告知あり」条件の参加者には，参加者に「期首に設定された目標にあなたの業績が到達しないことにより，あなたのボーナス獲得の機会に悪影響を及ぼすため，50％の確率で適切な水準まで目標が下方調整される」と説明される。50％という確率を明示したのは，参加者に必ず調整されたりまったく調整されなかったりするだろうという偏った予想を抱かせないためである。ただし，(1)どのような条件で目標を調整するか（平常ラウンドか厳しいラウンドか），(2)目標の調整の具体的な大きさを事前に約束することはなかった。標が下方修正されるかどうかという不確実性を作り出すためである。また，「告知なし」条件には，期中調整の説明はしないが，厳しいラウンドが存在することは説明する。 　第2の説明変数は，期中調整の実施の有無である。平常ラウンドの「実施あり」「実施なし」の両条件と厳しいラウンドの「実施なし」条件では，期中調整は行われず，中間フィードバック（前半の正解数と期首に割り当てられた目標値）が表示される。厳しいラウンドの「実施あり」条件では，中間フィードバックと期中調整後の目標が表示される。調整後の目標は，練習パートの厳しいラウンドの正解数を2倍したものである。</p>
</section>
<section id="被説明変数" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="被説明変数"><span class="header-section-number">4.2</span> 被説明変数</h3>
<p>本論文の被説明変数は，実験タスクの正解数である。仮説1の検証は全部のラウンドの前半の正解数，仮説2の検証は厳しいラウンドの後半の正解数，仮説3の検証は全部のラウンドの正解数を用いる。</p>
</section>
<section id="公正の認識" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="公正の認識"><span class="header-section-number">4.3</span> 公正の認識</h3>
<p>　実験後の質問において，参加者に公正に関する質問をする。公正の認識を捉えるために、先行研究（Leventhal 1980; Thibaut, and Walker 1975）で開発され、最近では Colquitt (2001) によって検証された手続き的公正と分配的公正の尺度の修正版を使用する。このリストはKelly et al.&nbsp;(2015)でも用いられている。各尺度に含まれる項目は以下のとおりである。</p>
<ol type="1">
<li>Process used to determine incentive payouts applied consistently. （インセンティブの支払い額を決定するプロセスが一貫して適用されている。）</li>
<li>Process used to determine incentive payout has been fair. （インセンティブの支払い額を決定するプロセスが公平である。）</li>
<li>Process used to determine incentive payout has been bias free. （インセンティブの支払い額を決定するプロセスにバイアスがない。）</li>
<li>Amount of incentive payout received reflects effort I put into the task. （受け取ったインセンティブの支払い額は，私がタスクに費やした努力を反映している。）</li>
<li>Incentive payout is appropriate for effort I have put into the task. （インセンティブの支払い額は，私がタスクに費やした努力に見合っている。）</li>
<li>The amount of incentive payout reflects my contribution to the task. （インセンティブの支払い額は，タスクへの私の貢献を反映している。）</li>
<li>The amount of payout is justified given my performance at the task. （タスクにおける自分の業績を考えれば，支払い額は正当である。）</li>
</ol>
</section>
</section>
<section id="結果" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="結果"><span class="header-section-number">5</span> 結果</h2>
<section id="記述統計量" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="記述統計量"><span class="header-section-number">5.1</span> 記述統計量</h3>
</section>
<section id="マニピュレーション-チェック" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="マニピュレーション-チェック"><span class="header-section-number">5.2</span> マニピュレーション-チェック</h3>
<ul>
<li>平常ラウンドと厳しいラウンドで正解数が異なるか</li>
<li>期中調整の告知なしの条件の参加者が認識する調整前の目標の難易度は，平常ラウンドよりも厳しいラウンドのほうが高いか</li>
<li>期中調整の告知ありの条件の参加者が認識する調整前の目標の難易度は，期中調整の告知なしの条件の参加者が認識する調整前の目標の難易度よりも低いか</li>
<li>厳しいラウンドにおいて，期中調整の実施ありの条件で，参加者の認識する目標の難易度は，調整前よりも調整後のほうが低いか</li>
<li>厳しいラウンドにおいて，期中調整の実施ありの条件の参加者が認識する調整後の目標の難易度は，期中調整の実施なしの条件の参加者が認識する調整後の目標の難易度よりも低いか</li>
</ul>
</section>
<section id="仮説検定" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="仮説検定"><span class="header-section-number">5.3</span> 仮説検定</h3>
<ul>
<li>仮説1a：平常環境の期待あり条件の前半業績の平均値vs. 平常環境の期待なし条件の前半業績の平均値のt検定</li>
<li>仮説1b：厳しい環境の期待あり条件の前半業績の平均値vs. 厳しい環境の期待なし条件の前半業績の平均値のt検定</li>
<li>仮説2： 1回目の厳しい環境の実施あり条件の後半業績vs. 1回目の厳しい環境の実施なし条件の後半業績のt検定 （厳しい環境の実施あり条件の後半業績の平均値vs. 厳しい環境の実施なし条件の後半業績の平均値のt検定）期待効果の交絡あり</li>
<li>仮説3a：期待あり-実施あり条件の手続き的公正の回答vs. 期待なし-実施あり条件の手続き的公正の回答のt検定</li>
<li>仮説3b：期待なし-実施あり条件の手続き的公正の回答vs. 期待なし-実施なし条件の手続き的公正の回答のt検定</li>
<li>仮説3c：期待あり-実施なし条件の手続き的公正の回答vs. 期待なし-実施なし条件の手続き的公正の回答のt検定</li>
<li>仮説4：手続き的公正の回答と全体業績の平均値の相関分析</li>
</ul>
<section id="補足分析" class="level4" data-number="5.3.1">
<h4 data-number="5.3.1" class="anchored" data-anchor-id="補足分析"><span class="header-section-number">5.3.1</span> 補足分析</h4>
<p>被説明変数である業績と期待効果，実施効果，公正の認識，背景の説明変数のOLS</p>
</section>
</section>
<section id="パイロットテストの確認事項" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="パイロットテストの確認事項"><span class="header-section-number">5.4</span> パイロットテストの確認事項</h3>
<ul>
<li><p>目標難易度練習ラウンドに基づいた練習のスコア✕100％の目標が適切か<br>
</p></li>
<li><p>目標難易度の平均値-分散が偏っていないか</p></li>
<li><p>正解数の平均値-分散が偏っていないか</p></li>
<li><p>平常ラウンドのほうが厳しいラウンドよりも正解数が有意に多いか→◯</p></li>
<li><p>期中調整の告知なしの条件の参加者が認識する調整前の目標の難易度は，平常ラウンドよりも厳しいラウンドのほうが正解数が有意に高いか</p></li>
<li><p>期中調整の告知ありの条件の参加者が認識する調整前の目標の難易度は，期中調整の告知なしの条件の参加者が認識する調整前の目標の難易度よりも有意に低いか</p></li>
<li><p>厳しいラウンドにおいて， -期中調整の実施ありの条件で，参加者の認識する目標の難易度は，調整前よりも調整後のほうが有意に低いか -期中調整の実施ありの条件で，参加者が認識する調整後の目標の難易度は，期中調整の実施なしの条件の参加者が認識する調整後の目標の難易度よりも有意に低いか</p></li>
</ul>
<p>  ＜パイロットテスト計画＞ Yahoo! クラウドソーシングを利用</p>
<p>参加者100人程度 予算 基本料：1タスク10円（） 謝礼ポイント追加オプション：1.5円／1ポイント 1人　10円＋20ポイント✕1.5円＝40円 100人　40円✕100　＝　4,000円</p>
<p>仮想サーバー上の外部サイトに誘導→実験終了後に完了コードを入力してもらう</p>
<p>報酬は固定にするか</p>
<p>変動報酬は仕様上できない。 ただし報酬額ごとに追加タスクを設定する方法で変動報酬のようにすることは可能。</p>
<ul>
<li>目標難易度練習ラウンドに基づいた練習のスコア✕100％の目標が適切か<br>
</li>
<li>目標難易度の平均値-分散が偏っていないか -正解数の平均値-分散が偏っていないか</li>
</ul>
</section>
<section id="マニピュレーションチェック" class="level3" data-number="5.5">
<h3 data-number="5.5" class="anchored" data-anchor-id="マニピュレーションチェック"><span class="header-section-number">5.5</span> マニピュレーション・チェック</h3>
<ul>
<li>平常ラウンドのほうが厳しいラウンドよりも正解数が有意に多いか 仮説検証</li>
<li>期中調整の告知なしの条件の参加者が認識する調整前の目標の難易度は，平常ラウンドよりも厳しいラウンドのほうが正解数が有意に高いか</li>
<li>期中調整の告知ありの条件の参加者が認識する調整前の目標の難易度は，期中調整の告知なしの条件の参加者が認識する調整前の目標の難易度よりも有意に低いか</li>
<li>厳しいラウンドにおいて，
<ul>
<li>期中調整の実施ありの条件で，参加者の認識する目標の難易度は，調整前よりも調整後のほうが有意に低いか -期中調整の実施ありの条件で，参加者が認識する調整後の目標の難易度は，期中調整の実施なしの条件の参加者が認識する調整後の目標の難易度よりも有意に低いか</li>
</ul></li>
</ul>
<p>自己決定目標による実験に変更する 目標設定ボーナス 目標達成ボーナス 最終目標達成ボーナス</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>